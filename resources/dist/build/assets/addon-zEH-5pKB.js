const E=window.Vue,{BaseTransition:Y,BaseTransitionPropsValidators:J,Comment:X,DeprecationTypes:Z,EffectScope:ee,ErrorCodes:te,ErrorTypeStrings:oe,Fragment:M,KeepAlive:ne,ReactiveEffect:ae,Static:re,Suspense:ie,Teleport:le,Text:se,TrackOpTypes:de,Transition:ue,TransitionGroup:ce,TriggerOpTypes:pe,VueElement:me,__esModule:ge,assertNumber:ve,callWithAsyncErrorHandling:fe,callWithErrorHandling:ye,camelize:Ce,capitalize:Se,cloneVNode:he,compatUtils:be,compile:Te,computed:w,createApp:ke,createBlock:m,createCommentVNode:I,createElementBlock:P,createElementVNode:s,createHydrationRenderer:we,createPropsRestProxy:Pe,createRenderer:xe,createSSRApp:Re,createSlots:De,createStaticVNode:Le,createTextVNode:d,createVNode:i,customRef:Ae,defineAsyncComponent:Ee,defineComponent:Me,defineCustomElement:Ie,defineEmits:Ve,defineExpose:He,defineModel:Fe,defineOptions:Be,defineProps:ze,defineSSRCustomElement:Ue,defineSlots:_e,devtools:Ge,effect:Ke,effectScope:Ne,getCurrentInstance:Oe,getCurrentScope:$e,getCurrentWatcher:qe,getTransitionRawChildren:We,guardReactiveProps:je,h:Qe,handleError:Ye,hasInjectionContext:Je,hydrate:Xe,hydrateOnIdle:Ze,hydrateOnInteraction:et,hydrateOnMediaQuery:tt,hydrateOnVisible:ot,initCustomFormatter:nt,initDirectivesForSSR:at,inject:rt,isMemoSame:it,isProxy:lt,isReactive:st,isReadonly:dt,isRef:ut,isRuntimeOnly:ct,isShallow:pt,isVNode:mt,markRaw:gt,mergeDefaults:vt,mergeModels:ft,mergeProps:yt,nextTick:Ct,nodeOps:St,normalizeClass:V,normalizeProps:ht,normalizeStyle:bt,onActivated:Tt,onBeforeMount:kt,onBeforeUnmount:wt,onBeforeUpdate:Pt,onDeactivated:xt,onErrorCaptured:Rt,onMounted:H,onRenderTracked:Dt,onRenderTriggered:Lt,onScopeDispose:At,onServerPrefetch:Et,onUnmounted:F,onUpdated:Mt,onWatcherCleanup:It,openBlock:l,patchProp:Vt,popScopeId:Ht,provide:Ft,proxyRefs:Bt,pushScopeId:zt,queuePostFlushCb:Ut,reactive:B,readonly:_t,ref:y,registerRuntimeCompiler:Gt,render:Kt,renderList:z,renderSlot:Nt,resolveComponent:Ot,resolveDirective:$t,resolveDynamicComponent:qt,resolveFilter:Wt,resolveTransitionHooks:jt,setBlockTracking:Qt,setDevtoolsHook:Yt,setTransitionHooks:Jt,shallowReactive:Xt,shallowReadonly:Zt,shallowRef:eo,ssrContextKey:to,ssrUtils:oo,stop:no,toDisplayString:x,toHandlerKey:ao,toHandlers:ro,toRaw:io,toRef:lo,toRefs:so,toValue:uo,transformVNodeArgs:co,triggerRef:po,unref:a,useAttrs:mo,useCssModule:go,useCssVars:vo,useHost:fo,useId:yo,useModel:Co,useSSRContext:So,useShadowRoot:ho,useSlots:bo,useTemplateRef:To,useTransitionState:ko,vModelCheckbox:wo,vModelDynamic:Po,vModelRadio:xo,vModelSelect:Ro,vModelText:Do,vShow:Lo,version:Ao,warn:Eo,watch:Mo,watchEffect:Io,watchPostEffect:Vo,watchSyncEffect:Ho,withAsyncContext:Fo,withCtx:r,withDefaults:Bo,withDirectives:zo,withKeys:Uo,withMemo:_o,withModifiers:Go,withScopeId:Ko}=E,{Form:No,Head:U,Link:Oo,router:R,toggleArchitecturalBackground:$o,useArchitecturalBackground:qo,useForm:Wo,usePoll:jo}=__STATAMIC__.inertia,{Alert:_,AuthCard:Qo,Avatar:Yo,Badge:Jo,Button:C,ButtonGroup:Xo,Calendar:Zo,Card:en,CardList:tn,CardListItem:on,CardPanel:nn,CharacterCounter:an,Checkbox:rn,CheckboxGroup:ln,CodeEditor:sn,Combobox:dn,CommandPaletteItem:un,ConfirmationModal:G,Context:cn,ContextFooter:pn,ContextHeader:mn,ContextItem:gn,ContextLabel:vn,ContextMenu:fn,ContextSeparator:yn,CreateForm:Cn,DatePicker:Sn,DateRangePicker:hn,Description:bn,DocsCallout:Tn,DragHandle:kn,Dropdown:wn,DropdownItem:Pn,DropdownLabel:xn,DropdownMenu:Rn,DropdownSeparator:Dn,DropdownFooter:Ln,DropdownHeader:An,Editable:En,ErrorMessage:Mn,EmptyStateItem:In,EmptyStateMenu:Vn,Field:Hn,Header:K,Heading:Fn,HoverCard:Bn,Icon:zn,Input:N,InputGroup:Un,InputGroupAppend:_n,InputGroupPrepend:Gn,Label:Kn,Listing:O,ListingCustomizeColumns:Nn,ListingFilters:On,ListingHeaderCell:$n,ListingPagination:qn,ListingPresets:Wn,ListingPresetTrigger:jn,ListingRowActions:Qn,ListingSearch:Yn,ListingTable:Jn,ListingTableBody:Xn,ListingTableHead:Zn,ListingToggleAll:ea,LivePreview:ta,LivePreviewPopout:oa,Modal:na,ModalClose:aa,ModalTitle:ra,Pagination:ia,Panel:la,PanelFooter:sa,PanelHeader:da,Popover:ua,PublishComponents:ca,PublishContainer:pa,publishContextKey:ma,injectPublishContext:ga,PublishField:va,PublishFields:fa,PublishFieldsProvider:ya,PublishForm:Ca,PublishLocalizations:Sa,PublishSections:ha,PublishTabs:ba,Radio:Ta,RadioGroup:ka,Select:wa,Separator:Pa,Slider:xa,Skeleton:Ra,SplitterGroup:Da,SplitterPanel:La,SplitterResizeHandle:Aa,StatusIndicator:Ea,Subheading:Ma,Switch:Ia,TabContent:Va,Stack:Ha,StackClose:Fa,StackHeader:Ba,StackFooter:za,StackContent:Ua,Table:_a,TableCell:Ga,TableColumn:Ka,TableColumns:Na,TableRow:Oa,TableRows:$a,TabList:$,TabProvider:qa,Tabs:q,TabTrigger:W,Textarea:Wa,TimePicker:ja,ToggleGroup:Qa,ToggleItem:Ya,Widget:Ja,registerIconSet:Xa,registerIconSetFromStrings:Za}=__STATAMIC__.ui,j={class:"mt-4"},D="String Translations",Q={__name:"StringTranslations",props:{translations:{type:Array,required:!0},activeLang:{type:String,required:!0},sites:{type:Array,required:!0},saveUrl:{type:String,required:!0},missingTable:{type:Boolean,default:!1}},setup(u){const c=u,L=[{field:"key",label:"Key",sortable:!0},{field:"value",label:"Value"},{field:"actions",label:""}],g=B({}),n=y(new Set),v=y(!1),p=y(!1),A=w(()=>{if(n.value.size>0){const o=n.value.size;return`Save & Delete ${o} key${o===1?"":"s"} (All Locales)`}return"Save"}),S=w({get:()=>c.activeLang,set:o=>R.get(window.location.pathname,{lang:o},{preserveState:!1})});function h(o){(o.key==="Enter"||(o.metaKey||o.ctrlKey)&&o.key==="s")&&(o.preventDefault(),T())}H(()=>document.addEventListener("keydown",h)),F(()=>document.removeEventListener("keydown",h));function b(o){const e=new Set(n.value);if(e.has(o))e.delete(o);else{if(e.size>=100){Statamic.$toast.error("You can only mark up to 100 keys for deletion at once.");return}e.add(o)}n.value=e}function T(){if(n.value.size>0){p.value=!0;return}k()}function k(){p.value=!1,v.value=!0;const o={};for(const e of c.translations)n.value.has(e.key)||(o[e.key]=g[e.key]??e.value);R.post(c.saveUrl,{lang:c.activeLang,strings:o,keys_to_delete:Array.from(n.value).join(",")},{onFinish:()=>{v.value=!1}})}return(o,e)=>(l(),P("div",null,[i(a(U),{title:D}),i(a(K),{title:D},{actions:r(()=>[i(a(C),{variant:n.value.size>0?"danger":"primary",disabled:v.value,onClick:T},{default:r(()=>[d(x(A.value),1)]),_:1},8,["variant","disabled"])]),_:1}),u.missingTable?(l(),m(a(_),{key:0,variant:"warning",class:"mb-4"},{default:r(()=>[...e[2]||(e[2]=[s("p",{class:"font-bold"},"Database table not found",-1),s("p",{class:"text-sm mt-1"},[d(" Run "),s("code",{class:"bg-gray-200 dark:bg-gray-800 px-1 rounded"},"php artisan migrate"),d(" to create the required table. ")],-1)])]),_:1})):I("",!0),i(a(q),{modelValue:S.value,"onUpdate:modelValue":e[0]||(e[0]=t=>S.value=t)},{default:r(()=>[i(a($),null,{default:r(()=>[(l(!0),P(M,null,z(u.sites,t=>(l(),m(a(W),{key:t.handle,name:t.handle,text:t.name},null,8,["name","text"]))),128))]),_:1})]),_:1},8,["modelValue"]),s("div",j,[i(a(O),{items:u.translations,columns:L,sortColumn:"key",sortDirection:"asc",allowBulkActions:!1,allowCustomizingColumns:!1},{"cell-key":r(({row:t})=>[s("span",{class:V(["font-mono text-xs",{"line-through opacity-50":n.value.has(t.key)}])},x(t.key),3)]),"cell-value":r(({row:t})=>[i(a(N),{modelValue:g[t.key]??t.value,disabled:n.value.has(t.key),"onUpdate:modelValue":f=>g[t.key]=f},null,8,["modelValue","disabled","onUpdate:modelValue"])]),"cell-actions":r(({row:t})=>[n.value.has(t.key)?(l(),m(a(C),{key:0,size:"sm",onClick:f=>b(t.key)},{default:r(()=>[...e[3]||(e[3]=[d(" Undo ",-1)])]),_:1},8,["onClick"])):(l(),m(a(C),{key:1,variant:"danger",size:"sm",onClick:f=>b(t.key)},{default:r(()=>[...e[4]||(e[4]=[d(" Delete ",-1)])]),_:1},8,["onClick"]))]),_:1},8,["items"])]),i(a(G),{open:p.value,"onUpdate:open":e[1]||(e[1]=t=>p.value=t),title:"Delete translation keys",bodyText:`Are you sure you want to delete ${n.value.size} key(s) from ALL locales? This action cannot be undone.`,buttonText:"Delete",danger:"",onConfirm:k},null,8,["open","bodyText"])]))}};Statamic.booting(()=>{Statamic.$inertia.register("string-translations::StringTranslations",Q)});
